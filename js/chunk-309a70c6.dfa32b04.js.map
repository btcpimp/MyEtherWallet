{"version":3,"sources":["webpack:///./src/dapps/MakerSai/MakerDai.vue?0fa1","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?4294","webpack:///src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?9d7a","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?2e23","webpack:///src/dapps/MakerSai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?0bd8","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?d68f","webpack:///src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?956c","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?f52a","webpack:///src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?cb99","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerSai/MakerCDP.js","webpack:///src/dapps/MakerSai/MakerDai.vue","webpack:///./src/dapps/MakerSai/MakerDai.vue?41aa","webpack:///./src/dapps/MakerSai/MakerDai.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?cb5e","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?9fd0","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?9185","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?a773","webpack:///./src/dapps/MakerSai/MakerDai.vue?38d1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","activeValues","calcCollatRatioDaiChg","calcCollatRatioEthChg","calcLiquidationPriceEthChg","calcLiquidationPriceDaiChg","tokensWithBalance","on","lockEth","drawDai","approveDai","approveMkr","freeEth","wipeDai","closeCdp","destAddressHasProxy","destAddressProxy","moveCdp","checkIfDestAddressHasProxy","showMove","_v","_s","$t","hasProxy","onCreate","showCdpMigrateButtons","_e","showClose","buildProxy","_l","value","idx","key","$event","migrateCdpExternal","directives","name","rawName","expression","showCreateProxy","cdpsWithoutProxy","length","class","cdpId","openMigrate","makerActive","listCdps","openManage","buildEmpty","ethPrice","pethPrice","pethMin","wethToPethRatio","liquidationPenalty","stabilityFee","liquidationRatio","priceService","cdpService","proxyService","cdps","cdpDetailsLoaded","migrationInProgress","openCloseModal","openMoveModal","valuesUpdated","getCdp","hasCdp","setupCdpManage","addCdp","removeCdp","modalHidden","doUpdate","showWithdraw","showPayback","showGenerate","showDeposit","staticRenderFns","newTotal","maxDai","allOk","domProps","target","composing","amount","canGenerateDaiAmount","newCollateralRatio","values","displayFixedValue","newLiquidationPrice","fiatCurrency","newCollateralRatioSafe","notZero","checkBoxClicked","scopedSlots","_u","fn","proxy","cancelButton","closeModal","generateButton","canProceed","submitBtn","components","HelpCenterButton","CheckBox","ExpandingOption","StandardButton","props","type","Array","default","action","String","Object","maxPethDraw","maxEthDraw","maxUsdDraw","ethCollateral","pethCollateral","usdCollateral","debtValue","collateralRatio","Function","data","amountEth","amountDai","riskyBypass","modalDetailInformation","textValues","digitalCurrency","title","buttonStyle","noMinWidth","computed","amountPresent","canCompute","showWarning","hasEnoughEth","calcCollateralRatio","displayFixedPercent","gte","newCollateralRatioInvalid","lte","liquidationPrice","methods","checked","displayPercentValue","$forceUpdate","currentDai","$refs","modal","hide","delayCloseModal","setTimeout","component","toPeth","submitButton","canWithdrawEthAmount","ratioOk","collatRatio","watch","mounted","$on","maxWithdraw","canWithdrawEthNotice","zeroDebt","hasEnoughMkr","mkrBalance","getMkr","hasEnoughDai","governanceFeeOwed","approveDaiButton","nativeOn","approveMkrButton","mkrToken","daiToken","fullWidth","suppliedFrom","symbol","suppliedTo","suppliedToAmount","destAddress","paybackFee","balance","daiBalance","needsDaiApprove","needsMkrApprove","getBalances","find","item","$eventHub","$emit","MKR","Maker","DAI","toBigNumber","num","BigNumber","MakerCDP","web3","services","sysVars","cdp","ready","noProxy","needsUpdate","closing","opening","migrated","migrateCdpActive","migrateCdpStage","_liqPrice","isSafe","_collatRatio","_usdCollateral","_governanceFee","updateValues","getGovernanceFee","getProxy","_proxyAddress","getLiquidationPrice","liqPrice","toFixed","getDebtValue","getCollateralizationRatio","getCollateralValue","PETH","USD","currentProxy","give","ensureProxy","needToFinishMigrating","ethQty","daiQty","openProxyCdpLockEthAndDrawDai","newCdp","proxyAddress","id","lockEthProxy","console","error","acknowledgeBypass","calcCollatRatio","plus","gt","drawDaiProxy","e","eq","minus","freeEthProxy","wipeDaiProxy","toNumber","enoughMkrToWipe","shutProxy","log","address","getProxyAddress","giveProxy","wei","eth","toUsd","toUSD","lt","tl","times","tr","div","calcLiquidationPrice","approveUnlimited","account","_pethPrice","proxyAllowanceDai","proxyAllowanceMkr","_daiToken","_mkrToken","_proxyService","_cdpService","minEth","val","isBigNumber","raw","toString","decimals","round","ROUND_DOWN","InterfaceContainerTitle","InterfaceBottomText","GenerateModal","DepositModal","WithdrawModal","PaybackModal","blockie","Blockie","BackButton","CloseCdpModal","MoveCdpModal","getBalance","highestGas","afterUpdate","allCdpIds","activeCdp","availableCdps","currentCdpId","creatingCdp","daiPrice","makerCdp","makerManager","priceFloor","sysServices","targetPrice","maxDaiDraw","bnOver","minEthDeposit","showMoveOrClose","showManage","showRefresh","$route","currentProxyAddress","destroyed","gotoHome","$router","push","gotoCreate","path","includes","systemValues","goToManage","params","deposit","show","withdraw","payback","generate","vals","currentCdp","keys","activeCdps","undefined"],"mappings":"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","file":"js/chunk-309a70c6.dfa32b04.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-maker\"},[_c('deposit-modal',{ref:\"deposit\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"lockEth\":_vm.lockEth}}),_c('generate-modal',{ref:\"generate\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"drawDai\":_vm.drawDai}}),_c('withdraw-modal',{ref:\"withdraw\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"freeEth\":_vm.freeEth}}),_c('payback-modal',{ref:\"payback\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"wipeDai\":_vm.wipeDai}}),_c('close-cdp-modal',{ref:\"closeCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"closeCdp\":_vm.closeCdp}}),_c('move-cdp-modal',{ref:\"moveCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"dest-address-has-proxy\":_vm.destAddressHasProxy,\"dest-address-proxy\":_vm.destAddressProxy,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"moveCdp\":_vm.moveCdp,\"checkForProxy\":_vm.checkIfDestAddressHasProxy}}),_c('back-button',{attrs:{\"path\":'/interface/dapps/'}},[_c('div',{staticClass:\"back-bar-container\"},[(_vm.showMoveOrClose)?_c('div',{staticClass:\"header-buttons-container\"},[_c('div',{staticClass:\"inner-container\"},[_c('button',{staticClass:\"move-btn\",on:{\"click\":_vm.showMove}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.move-title')))])]),(!((!_vm.hasProxy && !_vm.onCreate) || _vm.showCdpMigrateButtons))?_c('div',[_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.showClose}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.close-title')))])])]):_vm._e()])]):_vm._e()])]),(_vm.makerActive)?_c('div',{staticClass:\"buttons-container\"},[(_vm.showCreateProxy)?_c('div',[_c('div',{staticClass:\"dapps-button\",on:{\"click\":_vm.buildProxy}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.create-proxy')))])])]):_vm._e(),(_vm.showCreateProxy)?_c('div',{staticClass:\"proxy-container\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('dappsMaker.proxy-instructions'))+\"\\n    \")]):_vm._e(),(_vm.showCdpMigrateButtons)?_c('div',_vm._l((_vm.cdpsWithoutProxy),function(value,idx){return _c('div',{key:idx + value},[_c('div',{staticClass:\"dapps-button\"},[_c('div',{on:{\"click\":function($event){return _vm.migrateCdpExternal(value)}}},[_c('h4',[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.migrate-cdp', { value: value }))+\"\\n            \")])])])])}),0):_vm._e(),(_vm.showCdpMigrateButtons)?_c('div',{staticClass:\"proxy-container\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('dappsMaker.migrate-instructions'))+\"\\n    \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.makerActive),expression:\"makerActive\"}],staticClass:\"buttons-container\"},[(_vm.showCreateProxy && _vm.cdpsWithoutProxy.length > 1)?_c('div',_vm._l((_vm.cdpsWithoutProxy),function(value,idx){return _c('div',{key:idx + value},[_c('div',{class:[\n            'dapps-button',\n            _vm.activeValues.cdpId === value ? 'active' : ''\n          ]},[_c('div',{on:{\"click\":function($event){return _vm.openMigrate(value)}}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.cdp'))+\" #\"+_vm._s(value))])])])])}),0):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.makerActive && _vm.listCdps),expression:\"makerActive && listCdps\"}],staticClass:\"buttons-container\"},_vm._l((_vm.cdps),function(value,idx){return _c('div',{key:idx + value},[_c('div',{class:[\n          'dapps-button',\n          _vm.activeValues.cdpId === value ? 'active' : ''\n        ]},[_c('div',{on:{\"click\":function($event){return _vm.openManage(value)}}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.cdp'))+\" #\"+_vm._s(value))])])])])}),0),_c('router-view',{attrs:{\"build-empty\":_vm.buildEmpty,\"maker-active\":_vm.makerActive,\"eth-price\":_vm.ethPrice,\"peth-price\":_vm.pethPrice,\"peth-min\":_vm.pethMin,\"weth-to-peth-ratio\":_vm.wethToPethRatio,\"liquidation-penalty\":_vm.liquidationPenalty,\"stability-fee\":_vm.stabilityFee,\"liquidation-ratio\":_vm.liquidationRatio,\"price-service\":_vm.priceService,\"cdp-service\":_vm.cdpService,\"proxy-service\":_vm.proxyService,\"cdps\":_vm.cdps,\"cdp-details-loaded\":_vm.cdpDetailsLoaded,\"tokens-with-balance\":_vm.tokensWithBalance,\"migration-in-progress\":_vm.migrationInProgress,\"open-close-modal\":_vm.openCloseModal,\"open-move-modal\":_vm.openMoveModal,\"values-updated\":_vm.valuesUpdated,\"values\":_vm.activeValues,\"get-cdp\":_vm.getCdp,\"has-cdp\":_vm.hasCdp,\"loading-message1\":_vm.$t('dappsMaker.initial-loading-one'),\"loading-message2\":_vm.$t('dappsMaker.initial-loading-two')},on:{\"activeCdpId\":_vm.setupCdpManage,\"cdpOpened\":_vm.addCdp,\"cdpClosed\":_vm.removeCdp,\"modalHidden\":_vm.modalHidden,\"managerUpdate\":_vm.doUpdate,\"showWithdraw\":_vm.showWithdraw,\"showPayback\":_vm.showPayback,\"showGenerate\":_vm.showGenerate,\"showDeposit\":_vm.showDeposit,\"migrateCdp\":_vm.migrateCdpExternal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.generate-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('div',{staticClass:\"inputs\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('dappsMaker.generate-question'))+\"\\n        \")]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"total\"},[_c('span',[_vm._v(_vm._s(_vm.$t('dappsMaker.total')))]),_vm._v(\"\\n            \"+_vm._s(_vm.newTotal)+\"\\n            \"+_vm._s(_vm.$t('dappsMaker.dai'))+\"\\n          \")]),_c('p',{staticClass:\"max\",on:{\"click\":_vm.maxDai}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.max-balance'))+\"\\n          \")])]),_c('div',{class:['input-box', _vm.allOk ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.dai')))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.canGenerateDaiAmount)?_c('p',{staticClass:\"above-max\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.above-max-dai'))+\"\\n          \")]):_vm._e(),_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.collateral-ratio-val', {\n                value: _vm.newCollateralRatio\n              }))+\"\\n          \")])])]),_c('expanding-option',{attrs:{\"title\":\"Details\"}},[_c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.max-generate-available')))]),_c('p',[_c('b',[_vm._v(\"\\n                \"+_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxDai) : 0)+\"\\n              \")]),_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.dai'))+\"\\n            \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\"\\n              \"+_vm._s(_vm.fiatCurrency)+\"\\n            \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.newCollateralRatio)+\"%\")])])])])]),(!_vm.newCollateralRatioSafe && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.liquidation-risk', {\n                  value: _vm.newCollateralRatio\n                }))+\"\\n            \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\"\\n                \")])]},proxy:true}],null,false,3911530358)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.generateButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.generate-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"contents\">\n        <div class=\"inputs\">\n          <div class=\"interface__block-title\">\n            {{ $t('dappsMaker.generate-question') }}\n          </div>\n          <div class=\"top-buttons\">\n            <p class=\"total\">\n              <span>{{ $t('dappsMaker.total') }}</span>\n              {{ newTotal }}\n              {{ $t('dappsMaker.dai') }}\n            </p>\n            <p class=\"max\" @click=\"maxDai\">\n              {{ $t('dappsMaker.max-balance') }}\n            </p>\n          </div>\n          <div :class=\"['input-box', allOk ? '' : 'danger']\">\n            <input v-model=\"amount\" />\n            <p class=\"input-unit\">{{ $t('dappsMaker.dai') }}</p>\n          </div>\n          <div class=\"sub-text\">\n            <p v-if=\"!canGenerateDaiAmount\" class=\"above-max\">\n              {{ $t('dappsMaker.above-max-dai') }}\n            </p>\n            <p>\n              {{\n                $t('dappsMaker.collateral-ratio-val', {\n                  value: newCollateralRatio\n                })\n              }}\n            </p>\n          </div>\n        </div>\n        <expanding-option title=\"Details\">\n          <div class=\"detail-container\">\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.max-generate-available') }}</p>\n              <p>\n                <b>\n                  {{ values.maxDai ? displayFixedValue(values.maxDai) : 0 }}\n                </b>\n                {{ $t('dappsMaker.dai') }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b>{{ newCollateralRatio }}%</b>\n              </p>\n            </div>\n          </div>\n        </expanding-option>\n\n        <div\n          v-if=\"!newCollateralRatioSafe && notZero(amount)\"\n          class=\"warning-confirmation\"\n        >\n          <div class=\"grid-block\">\n            <div class=\"sign\"></div>\n            <div class=\"text-content\">\n              <p class=\"title\">{{ $t('dappsMaker.caution') }}</p>\n              <p class=\"warning-details\">\n                {{\n                  $t('dappsMaker.liquidation-risk', {\n                    value: newCollateralRatio\n                  })\n                }}\n              </p>\n              <check-box @changeStatus=\"checkBoxClicked\">\n                <template v-slot:terms\n                  ><p class=\"checkbox-label\">\n                    {{ $t('dappsMaker.understand-and-agree') }}\n                  </p></template\n                >\n              </check-box>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"generateButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport {\n  displayFixedValue,\n  displayPercentValue,\n  displayFixedPercent\n} from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      generateButton: {\n        title: 'Generate',\n        buttonStyle: 'green',\n        noMinWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    allOk() {\n      if (this.amountPresent) {\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\n      }\n      return true;\n    },\n    showWarning() {\n      return (\n        !this.newCollateralRatioInvalid &&\n        this.canGenerateDaiAmount &&\n        this.riskyBypass\n      );\n    },\n    newTotal() {\n      return toBigNumber(this.values.debtValue).plus(this.amount);\n    },\n    hasEnoughEth() {\n      if (this.canCompute) {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    canGenerateDaiAmount() {\n      if (this.canCompute && !toBigNumber(this.amount).isNaN()) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\n      }\n      return true;\n    },\n    canProceed() {\n      if (this.canCompute) {\n        if (toBigNumber(this.amount).lte(0)) return false;\n        return (\n          (this.newCollateralRatioSafe && this.canGenerateDaiAmount) ||\n          (!this.newCollateralRatioInvalid &&\n            this.canGenerateDaiAmount &&\n            this.riskyBypass)\n        );\n      }\n      return false;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n    },\n    newCollateralRatio() {\n      if (this.canCompute || this.values) {\n        return this.displayFixedPercent(this.calcCollateralRatio);\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.canCompute) {\n        return this.calcCollateralRatio.gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.canCompute) {\n        return this.calcCollateralRatio.lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.canCompute) {\n        return this.calcLiquidationPriceDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.drawDai();\n    },\n    checkBoxClicked(checked) {\n      this.riskyBypass = checked;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    displayFixedPercent,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxDai() {\n      this.amount = toBigNumber(this.values.maxDai).minus(\n        toBigNumber(this.values.maxDai).times(0.01)\n      );\n      this.$forceUpdate();\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async drawDai() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (this.newCollateralRatioSafe) {\n          this.$emit('drawDai', [this.amount, null]);\n        } else {\n          this.$emit('drawDai', [this.amount, this.riskyBypass]);\n        }\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'GenerateModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenerateModal.vue?vue&type=template&id=011db2c2&scoped=true&\"\nimport script from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nexport * from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GenerateModal.vue?vue&type=style&index=0&id=011db2c2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"011db2c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.deposit-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.deposit-question'))+\"\\n          \")]),_c('div',{class:['input-box', _vm.hasEnoughEth ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.hasEnoughEth)?_c('p',{staticClass:\"above-max\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.notEnoughEth'))+\"\\n            \")]):_vm._e(),_c('div',{staticClass:\"peth\"},[_c('p',[_vm._v(\"\\n                \"+_vm._s(_vm.values.toPeth\n                    ? _vm.displayFixedValue(_vm.values.toPeth(_vm.amount), 5, false)\n                    : 0)+\"\\n                \"+_vm._s(_vm.$t('common.currency.peth'))+\"\\n              \")]),_c('popover',{attrs:{\"popcontent\":_vm.$t('dappsMaker.peth-popover')}})],1)])])]),_c('div',{staticClass:\"detail-info\"},[_c('div',{staticClass:\"info\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.detail-info')))]),_c('div',{staticClass:\"sliding-switch-white\"},[_c('label',{staticClass:\"switch\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.modalDetailInformation = !_vm.modalDetailInformation}}}),_c('span',{staticClass:\"slider round\"})])])]),_c('div',{staticClass:\"expended-info\",class:_vm.modalDetailInformation && 'expended-info-open'},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.currently-deposited')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.values.ethCollateral, 5)))]),_vm._v(\"\\n                \"+_vm._s(_vm.digitalCurrency)+\"\\n              \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\"\\n                \"+_vm._s(_vm.fiatCurrency)+\"\\n              \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(\n                      _vm.displayPercentValue(_vm.newCollateralRatio),\n                      3\n                    ))+\"%\")])])])])])]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.deposit-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"modal-content-container\">\n        <div class=\"inputs-container\">\n          <div class=\"input-container\">\n            <div class=\"interface__block-title\">\n              {{ $t('dappsMaker.deposit-question') }}\n            </div>\n            <div :class=\"['input-box', hasEnoughEth ? '' : 'danger']\">\n              <input v-model=\"amount\" />\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\n            </div>\n            <div class=\"sub-text\">\n              <p v-if=\"!hasEnoughEth\" class=\"above-max\">\n                {{ $t('dappsMaker.notEnoughEth') }}\n              </p>\n              <div class=\"peth\">\n                <p>\n                  {{\n                    values.toPeth\n                      ? displayFixedValue(values.toPeth(amount), 5, false)\n                      : 0\n                  }}\n                  {{ $t('common.currency.peth') }}\n                </p>\n                <popover :popcontent=\"$t('dappsMaker.peth-popover')\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"detail-info\">\n          <div class=\"info\">\n            <h4>{{ $t('dappsMaker.detail-info') }}</h4>\n            <div class=\"sliding-switch-white\">\n              <label class=\"switch\">\n                <input\n                  type=\"checkbox\"\n                  @click=\"modalDetailInformation = !modalDetailInformation\"\n                />\n                <span class=\"slider round\" />\n              </label>\n            </div>\n          </div>\n          <div\n            :class=\"modalDetailInformation && 'expended-info-open'\"\n            class=\"expended-info\"\n          >\n            <div class=\"padding-container\">\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.currently-deposited') }}</p>\n                <p>\n                  <b>{{ displayFixedValue(values.ethCollateral, 5) }}</b>\n                  {{ digitalCurrency }}\n                </p>\n              </div>\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n                <p>\n                  <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                  {{ fiatCurrency }}\n                </p>\n              </div>\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n                <p>\n                  <b\n                    >{{\n                      displayFixedValue(\n                        displayPercentValue(newCollateralRatio),\n                        3\n                      )\n                    }}%</b\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    hasEnoughEth() {\n      if (this.amount || this.amount !== '') {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    canWithdrawEthAmount() {\n      if (this.amount || this.amount !== '') {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canProceed() {\n      if (toBigNumber(this.amount).lte(0)) return false;\n      const ratio = toBigNumber(this.newCollateralRatio);\n      const ratioOk = ratio.gt(1.5) || ratio.eq(0);\n      return this.hasEnoughEth && (ratioOk || this.riskyBypass);\n    },\n    newCollateralRatio() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return 0;\n    },\n    newCollateralRatioSafe() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        ).gte(2);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        ).lte(1.5);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values && this.amount > 0) {\n        return this.calcLiquidationPriceEthChg(\n          toBigNumber(this.values.ethCollateral).plus(toBigNumber(this.amount))\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.lockEth();\n    },\n    checkBoxClicked() {\n      this.riskyBypass = !this.riskyBypass;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async lockEth() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        this.$emit('lockEth', this.amount);\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'DepositModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepositModal.vue?vue&type=template&id=61b0f31e&scoped=true&\"\nimport script from \"./DepositModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DepositModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DepositModal.vue?vue&type=style&index=0&id=61b0f31e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61b0f31e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.withdraw-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('p',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.withdraw-notice'))+\"\\n          \")]),_c('label',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.withdraw-question')))]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"max-withdraw\",on:{\"click\":_vm.maxWithdraw}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.max-withdraw'))+\"\\n            \")])]),_c('div',{class:['input-box', _vm.newCollateralRatioSafe ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(_vm.canWithdrawEthNotice)?_c('p',{staticClass:\"above-max\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.over-max-withdraw'))+\"\\n            \")]):_vm._e(),_c('div',{staticClass:\"peth\"},[_c('p',{staticClass:\"peth-value\"},[_vm._v(\"\\n                \"+_vm._s(_vm.values.toPeth\n                    ? _vm.displayFixedValue(_vm.values.toPeth(_vm.amount), 5, false)\n                    : 0)+\"\\n                \"+_vm._s(_vm.$t('dappsMaker.peth'))+\"\\n              \")]),_c('popover',{attrs:{\"popcontent\":_vm.$t('dappsMaker.peth-popover')}})],1)])])]),_c('expanding-option',{attrs:{\"title\":\"Detail Information\"}},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.max-withdraw-available')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxEthDraw, 5) : 0))]),_vm._v(\"\\n              \"+_vm._s(_vm.digitalCurrency)+\"\\n            \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\"\\n              \"+_vm._s(_vm.fiatCurrency)+\"\\n            \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(\n                    _vm.displayPercentValue(_vm.newCollateralRatio),\n                    3\n                  ))+\"%\")])])])])]),(!_vm.newCollateralRatioSafe && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.liquidation-risk', {\n                  value: _vm.displayFixedValue(\n                    _vm.displayPercentValue(_vm.newCollateralRatio)\n                  )\n                }))+\"\\n            \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\"\\n                \")])]},proxy:true}],null,false,3911530358)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.withdraw-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"modal-content-container\">\n        <div class=\"inputs-container\">\n          <div class=\"input-container\">\n            <p class=\"message\">\n              {{ $t('dappsMaker.withdraw-notice') }}\n            </p>\n            <label> {{ $t('dappsMaker.withdraw-question') }}</label>\n            <div class=\"top-buttons\">\n              <p class=\"max-withdraw\" @click=\"maxWithdraw\">\n                {{ $t('dappsMaker.max-withdraw') }}\n              </p>\n            </div>\n            <div :class=\"['input-box', newCollateralRatioSafe ? '' : 'danger']\">\n              <input v-model=\"amount\" />\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\n            </div>\n            <div class=\"sub-text\">\n              <p v-if=\"canWithdrawEthNotice\" class=\"above-max\">\n                {{ $t('dappsMaker.over-max-withdraw') }}\n              </p>\n              <div class=\"peth\">\n                <p class=\"peth-value\">\n                  {{\n                    values.toPeth\n                      ? displayFixedValue(values.toPeth(amount), 5, false)\n                      : 0\n                  }}\n                  {{ $t('dappsMaker.peth') }}\n                </p>\n                <popover :popcontent=\"$t('dappsMaker.peth-popover')\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <expanding-option title=\"Detail Information\">\n          <div class=\"padding-container\">\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.max-withdraw-available') }}</p>\n              <p>\n                <b>{{\n                  values.maxDai ? displayFixedValue(values.maxEthDraw, 5) : 0\n                }}</b>\n                {{ digitalCurrency }}\n              </p>\n            </div>\n\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b\n                  >{{\n                    displayFixedValue(\n                      displayPercentValue(newCollateralRatio),\n                      3\n                    )\n                  }}%</b\n                >\n              </p>\n            </div>\n          </div>\n        </expanding-option>\n\n        <div\n          v-if=\"!newCollateralRatioSafe && notZero(amount)\"\n          class=\"warning-confirmation\"\n        >\n          <div class=\"grid-block\">\n            <div class=\"sign\"></div>\n            <div class=\"text-content\">\n              <p class=\"title\">{{ $t('dappsMaker.caution') }}</p>\n              <p class=\"warning-details\">\n                {{\n                  $t('dappsMaker.liquidation-risk', {\n                    value: displayFixedValue(\n                      displayPercentValue(newCollateralRatio)\n                    )\n                  })\n                }}\n              </p>\n              <check-box @changeStatus=\"checkBoxClicked\">\n                <template v-slot:terms>\n                  <p class=\"checkbox-label\">\n                    {{ $t('dappsMaker.understand-and-agree') }}\n                  </p>\n                </template>\n              </check-box>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    canWithdrawEthNotice() {\n      if (this.amountPresent) {\n        return !toBigNumber(this.amount).lte(\n          toBigNumber(this.values.maxEthDraw)\n        );\n      }\n      return false;\n    },\n    canWithdrawEthAmount() {\n      if (this.amountPresent) {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canProceed() {\n      if (this.amountPresent) {\n        if (toBigNumber(this.amount).lte(0)) return false;\n        return (\n          (this.newCollateralRatioSafe && this.canWithdrawEthAmount) ||\n          (!this.newCollateralRatioInvalid &&\n            this.canWithdrawEthAmount &&\n            this.riskyBypass)\n        );\n      }\n      return false;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n    },\n    newCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).minus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.canCompute) {\n        if (this.values.zeroDebt) return true;\n        return this.newCollateralRatio.gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.canCompute) {\n        if (this.values.zeroDebt) return false;\n        return this.newCollateralRatio.lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.canCompute) {\n        return this.calcLiquidationPriceEthChg(\n          toBigNumber(this.values.ethCollateral).minus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n    });\n    this.$refs.modal.$on('hidden', () => {\n      this.amount = 0;\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.freeEth();\n    },\n    checkBoxClicked(checked) {\n      this.riskyBypass = checked;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxWithdraw() {\n      this.amount = this.values.maxEthDraw;\n      this.$forceUpdate();\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async freeEth() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (this.newCollateralRatioSafe) {\n          this.$emit('freeEth', [this.amount, null]);\n        } else {\n          this.$emit('freeEth', [this.amount, this.riskyBypass]);\n        }\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'WithdrawModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WithdrawModal.vue?vue&type=template&id=02e2bdb6&scoped=true&\"\nimport script from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nexport * from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WithdrawModal.vue?vue&type=style&index=0&id=02e2bdb6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02e2bdb6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.payback-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('p',{staticClass:\"top-message\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('dappsMaker.payback-notice'))+\"\\n      \")]),(!_vm.hasEnoughMkr)?_c('div',[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.mkr-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.mkrBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])]),_c('p',{staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getMkr()}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('dappsMaker.get-mkr'))+\"\\n        \")])]):_vm._e(),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"top-buttons\"},[_c('p',{on:{\"click\":_vm.currentDai}},[_vm._v(_vm._s(_vm.$t('dappsMaker.set-max')))])]),_c('div',{class:['dai-amount', _vm.hasEnoughDai ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"floating-text\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('expanding-option',{attrs:{\"title\":\"Detail Information\"}},[_c('ul',{staticClass:\"details\"},[_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.outstanding-dai')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.debtValue ? _vm.displayFixedValue(_vm.values.debtValue, 3) : 0))]),_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.dai'))+\"\\n            \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.stability-fee-owed')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.governanceFeeOwed))]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.mkr'))+\"\\n            \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\"\\n              \"+_vm._s(_vm.fiatCurrency)+\"\\n            \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(\n                    _vm.displayPercentValue(_vm.newCollateralRatio),\n                    3\n                  ))+\"%\")])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveDaiButton},nativeOn:{\"click\":function($event){return _vm.approveDai($event)}}})],1):_vm._e(),(_vm.needsMkrApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveMkrButton},nativeOn:{\"click\":function($event){return _vm.approveMkr($event)}}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.payback-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"contents\">\n        <p class=\"top-message\">\n          {{ $t('dappsMaker.payback-notice') }}\n        </p>\n        <div v-if=\"!hasEnoughMkr\">\n          <div class=\"value-block\">\n            <p>\n              <b>{{ $t('dappsMaker.mkr-balance') }}</b>\n            </p>\n            <p>\n              <b>{{ mkrBalance }} {{ $t('dappsMaker.mkr') }}</b>\n            </p>\n          </div>\n          <p class=\"get-mkr\" @click=\"getMkr()\">\n            {{ $t('dappsMaker.get-mkr') }}\n          </p>\n        </div>\n        <div class=\"input-container\">\n          <div class=\"top-buttons\">\n            <p @click=\"currentDai\">{{ $t('dappsMaker.set-max') }}</p>\n          </div>\n          <div :class=\"['dai-amount', hasEnoughDai ? '' : 'danger']\">\n            <input v-model=\"amount\" />\n            <p class=\"floating-text\">{{ $t('dappsMaker.dai') }}</p>\n          </div>\n        </div>\n\n        <expanding-option title=\"Detail Information\">\n          <ul class=\"details\">\n            <li>\n              <p>{{ $t('dappsMaker.outstanding-dai') }}</p>\n              <p>\n                <b>{{\n                  values.debtValue ? displayFixedValue(values.debtValue, 3) : 0\n                }}</b>\n                {{ $t('dappsMaker.dai') }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.stability-fee-owed') }}</p>\n              <p>\n                <b>{{ values.governanceFeeOwed }}</b> {{ $t('dappsMaker.mkr') }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b\n                  >{{\n                    displayFixedValue(\n                      displayPercentValue(newCollateralRatio),\n                      3\n                    )\n                  }}%</b\n                >\n              </p>\n            </li>\n          </ul>\n        </expanding-option>\n        <div class=\"buttons\">\n          <div v-if=\"needsDaiApprove\">\n            <standard-button\n              :options=\"approveDaiButton\"\n              @click.native=\"approveDai\"\n            />\n          </div>\n          <div v-if=\"needsMkrApprove\">\n            <standard-button\n              :options=\"approveMkrButton\"\n              @click.native=\"approveMkr\"\n            />\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\nimport StandardButton from '@/components/Buttons/StandardButton';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      mkrToken: {},\n      daiToken: {},\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true,\n        fullWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true,\n        fullWidth: true\n      },\n      approveMkrButton: {\n        title: 'Approve Maker',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      approveDaiButton: {\n        title: 'Approve Dai',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      suppliedFrom: {\n        symbol: 'ETH',\n        name: 'Ethereum'\n      },\n      suppliedTo: {\n        symbol: 'MKR',\n        name: 'Maker'\n      },\n      suppliedToAmount: 0,\n      destAddress: ''\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    allOk() {\n      if (this.amountPresent) {\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\n      }\n      return true;\n    },\n    hasEnoughEth() {\n      if (this.canCompute) {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    paybackFee() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount)\n          .div(this.values.debtValue)\n          .times(this.values.governanceFeeOwed);\n      }\n      return 0;\n    },\n    hasEnoughMkr() {\n      if (this.canCompute) {\n        return toBigNumber(this.mkrBalance).gte(toBigNumber(this.paybackFee));\n      }\n      return true;\n    },\n    hasEnoughDai() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.daiBalance));\n      }\n      return true;\n    },\n    canWithdrawEthAmount() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canGenerateDaiAmount() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\n      }\n      return true;\n    },\n    canProceed() {\n      return this.hasEnoughDai;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).minus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return '--';\n    },\n    newCollateralRatio() {\n      if (this.amount > 0) {\n        return this.calcCollateralRatio;\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.amount > 0) {\n        if (this.calcCollateralRatio.lte(new BigNumber(0.000009))) {\n          return true;\n        }\n        return this.calcCollateralRatio.gte(2);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.amount > 0) {\n        // If less than a very small number\n        if (this.calcCollateralRatio.lte(new BigNumber(0.000009))) {\n          return true;\n        }\n        return this.calcCollateralRatio.gte(1.5);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values.debtValue && this.amount > 0) {\n        return this.calcLiquidationPriceDaiChg(\n          toBigNumber(this.values.debtValue).minus(this.amount)\n        );\n      } else if (this.values.liquidationPrice) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    },\n    mkrBalance() {\n      if (this.mkrToken) {\n        return this.mkrToken.balance;\n      }\n      return 0;\n    },\n    daiBalance() {\n      if (this.daiToken) {\n        return this.daiToken.balance;\n      }\n      return 0;\n    },\n    needsDaiApprove() {\n      if (toBigNumber(this.values.proxyAllowanceDai).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceDai).lt(this.values.debtValue)\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceDai).eq(0);\n    },\n    needsMkrApprove() {\n      if (toBigNumber(this.values.proxyAllowanceMkr).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceMkr).lt(\n            this.values.governanceFeeOwed\n          )\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceMkr).eq(0);\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n      this.getBalances();\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.wipeDai();\n    },\n    checkBoxClicked() {\n      this.riskyBypass = !this.riskyBypass;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxDai() {\n      this.amount = toBigNumber(this.values.maxDai).minus(\n        toBigNumber(this.values.maxDai).times(0.01)\n      );\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async wipeDai() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (toBigNumber(this.amount).gt(this.values.debtValue)) {\n          this.$emit('wipeDai', this.values.debtValue);\n        } else {\n          this.$emit('wipeDai', this.amount);\n        }\n      }\n    },\n    getBalances() {\n      this.mkrToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'MKR';\n      });\n      this.daiToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'DAI';\n      });\n    },\n    getMkr() {\n      const mkrNeeded = this.paybackFee;\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\n          .minus(toBigNumber(this.mkrBalance))\n          .plus(toBigNumber(mkrNeeded).times(0.01))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'MKR',\n          name: 'Maker'\n        };\n        this.$eventHub.$emit(\n          'showSwapWidgetTo',\n          this.account.address,\n          this.suppliedFrom,\n          this.suppliedTo,\n          this.suppliedToAmount\n        );\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    },\n    async approveDai() {\n      this.$emit('approveDai');\n    },\n    async approveMkr() {\n      this.$emit('approveMkr');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'PaybackModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaybackModal.vue?vue&type=template&id=290fce68&scoped=true&\"\nimport script from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaybackModal.vue?vue&type=style&index=0&id=290fce68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"290fce68\",\n  null\n  \n)\n\nexport default component.exports","import Maker from '@makerdao/dai';\nimport BigNumber from 'bignumber.js';\nimport {\n  calcLiquidationPrice,\n  calcCollatRatio,\n  maxPethDraw,\n  maxEthDraw,\n  maxDai\n} from './helpers';\nconst { MKR, DAI } = Maker;\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default class MakerCDP {\n  constructor(cdpId, web3, services, sysVars) {\n    this.cdpId = cdpId;\n    this.cdp = {};\n    this.web3 = web3 || {};\n    this.ready = false;\n    this.doUpdate = 0;\n    this.cdps = [];\n    this.noProxy = sysVars.noProxy || false;\n    this.services = services || null;\n    this.needsUpdate = false;\n    this.closing = false;\n    this.opening = false;\n    this.migrated = false;\n    this.migrateCdpActive = false;\n    this.migrateCdpStage = 0;\n\n    this._liqPrice = toBigNumber(0);\n    this.isSafe = false;\n    this.debtValue = toBigNumber(0);\n    this._collatRatio = 0;\n    this.ethCollateral = toBigNumber(0);\n    this.pethCollateral = toBigNumber(0);\n    this._usdCollateral = toBigNumber(0);\n    this._governanceFee = toBigNumber(0);\n  }\n\n  // Getters\n  get currentAddress() {\n    return this.services.account.address;\n  }\n\n  get liquidationPenalty() {\n    return this.services.liquidationPenalty;\n  }\n\n  get stabilityFee() {\n    return this.services.stabilityFee;\n  }\n\n  get ethPrice() {\n    return this.services.ethPrice;\n  }\n\n  get pethPrice() {\n    return this.services._pethPrice;\n  }\n\n  get wethToPethRatio() {\n    return this.services.wethToPethRatio;\n  }\n\n  get liquidationRatio() {\n    return this.services.liquidationRatio;\n  }\n\n  get proxyAddress() {\n    return this.services._proxyAddress;\n  }\n\n  get hasProxy() {\n    return this.services.hasProxy;\n  }\n\n  get proxyAllowanceDai() {\n    return this.services.proxyAllowanceDai;\n  }\n\n  get proxyAllowanceMkr() {\n    return this.services.proxyAllowanceMkr;\n  }\n\n  get daiToken() {\n    return this.services._daiToken;\n  }\n\n  get daiBalance() {\n    return this.services.daiBalance;\n  }\n\n  get mkrToken() {\n    return this.services._mkrToken;\n  }\n\n  get mkrBalance() {\n    return this.services.mkrBalance;\n  }\n\n  get proxyService() {\n    return this.services._proxyService;\n  }\n\n  get cdpService() {\n    return this.services._cdpService;\n  }\n\n  get minEth() {\n    return this.services.minEth();\n  }\n\n  get pethMin() {\n    return this.services.pethMin;\n  }\n\n  // CDP Instance/item values\n\n  get zeroDebt() {\n    return toBigNumber(this.debtValue).eq(0);\n  }\n\n  get usdCollateral() {\n    return this.toUSD(this.ethCollateral);\n  }\n\n  get ethCollateralNum() {\n    return this.ethCollateral.toNumber();\n  }\n\n  get collatRatio() {\n    return this._collatRatio;\n  }\n\n  get liquidationPrice() {\n    return this._liqPrice;\n  }\n\n  get governanceFeeOwed() {\n    return this._governanceFee;\n  }\n\n  get maxDai() {\n    if (\n      this.ethPrice &&\n      this.ethCollateral &&\n      this.liquidationRatio &&\n      this.debtValue\n    ) {\n      return maxDai(\n        this.ethPrice,\n        this.ethCollateral,\n        this.liquidationRatio.plus(0.001),\n        this.debtValue\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxEthDraw() {\n    if (this.ethPrice && this.debtValue && this.liquidationRatio) {\n      if (this.zeroDebt) {\n        return maxEthDraw(\n          this.ethCollateral,\n          this.liquidationRatio,\n          this.debtValue,\n          this.ethPrice,\n          this.minEth.times(0)\n        );\n      }\n      return maxEthDraw(\n        this.ethCollateral,\n        this.liquidationRatio,\n        this.debtValue,\n        this.ethPrice\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxPethDraw() {\n    if (this.pethPrice && this.pethCollateral && this.liquidationRatio) {\n      if (this.zeroDebt) {\n        return maxPethDraw(\n          this.pethCollateral,\n          this.liquidationRatio,\n          this.debtValue,\n          this.pethPrice,\n          this.pethMin.times(0)\n        );\n      }\n      return maxPethDraw(\n        this.pethCollateral,\n        this.liquidationRatio,\n        this.debtValue,\n        this.pethPrice\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxUsdDraw() {\n    if (this.pethPrice && this.pethCollateral && this.liquidationRatio) {\n      return this.toUSD(this.maxEthDraw);\n    }\n    return toBigNumber(0);\n  }\n\n  get needToFinishMigrating() {\n    return this._proxyAddress && this.noProxy;\n  }\n\n  // Methods\n  async init(cdpId = this.cdpId) {\n    await this.updateValues(cdpId);\n    this._governanceFee = (\n      await this.cdpService.getGovernanceFee(this.cdpId, MKR)\n    ).toBigNumber();\n\n    this.ready = true;\n    return this;\n  }\n\n  async updateValues(cdpId = this.cdpId) {\n    this._proxyAddress = await this.services.getProxy();\n    this.noProxy = this._proxyAddress === null;\n    if (this._proxyAddress) {\n      this.cdp = await this.services.getCdp(cdpId, this._proxyAddress);\n    } else {\n      this.cdp = await this.services.getCdp(cdpId, false);\n    }\n    const liqPrice = await this.cdp.getLiquidationPrice();\n    this._liqPrice = liqPrice.toBigNumber().toFixed(2);\n    this.isSafe = await this.cdp.isSafe();\n    this.debtValue = (await this.cdp.getDebtValue()).toBigNumber();\n    this._collatRatio = await this.cdp.getCollateralizationRatio();\n    this.ethCollateral = (await this.cdp.getCollateralValue()).toBigNumber();\n    this.pethCollateral = (\n      await this.cdp.getCollateralValue(Maker.PETH)\n    ).toBigNumber();\n    this._usdCollateral = (\n      await this.cdp.getCollateralValue(Maker.USD)\n    ).toBigNumber();\n  }\n\n  async update() {\n    if (this.migrated) {\n      const currentProxy = await this.proxyService.currentProxy();\n      if (currentProxy) {\n        this.migrated = false;\n        await this.cdpService.give(this.cdpId, this._proxyAddress);\n      }\n    }\n    if (this.needsUpdate) {\n      this.opening = false;\n      this.needsUpdate = false;\n      await this.updateValues(this.cdpId);\n      this.doUpdate++;\n      return this;\n    }\n    return this;\n  }\n\n  async getProxy() {\n    this._proxyAddress = await this.services.getProxy();\n  }\n\n  async migrateCdp() {\n    const currentProxy = await this.getProxy();\n    if (!currentProxy) {\n      this.needsUpdate = true;\n      return await this.proxyService.ensureProxy();\n    } else if (this.needToFinishMigrating) {\n      this.needsUpdate = true;\n      await this.cdpService.give(this.cdpId, this._proxyAddress);\n    }\n  }\n\n  async openCdp(ethQty, daiQty) {\n    if (ethQty <= 0) return 0;\n    let newCdp;\n    if (!this.hasProxy) {\n      this.opening = true;\n      this.needsUpdate = true;\n      newCdp = await this.cdpService.openProxyCdpLockEthAndDrawDai(\n        ethQty,\n        daiQty,\n        null\n      );\n    } else {\n      this.opening = true;\n      this.needsUpdate = true;\n      newCdp = await this.cdpService.openProxyCdpLockEthAndDrawDai(\n        ethQty,\n        daiQty,\n        this.proxyAddress\n      );\n    }\n\n    return newCdp.id;\n  }\n\n  async lockEth(amount) {\n    try {\n      if (this.noProxy) {\n        return;\n      }\n      this.needsUpdate = true;\n      await this.cdpService.lockEthProxy(\n        this._proxyAddress,\n        this.cdpId,\n        amount\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n  }\n\n  drawDai(amount, acknowledgeBypass = false) {\n    if (\n      this.calcCollatRatio(this.ethCollateral, this.debtValue.plus(amount)).gt(\n        2\n      ) ||\n      acknowledgeBypass\n    ) {\n      try {\n        if (this.noProxy) {\n          return;\n        }\n        this.needsUpdate = true;\n        this.cdpService.drawDaiProxy(this._proxyAddress, this.cdpId, amount);\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    }\n  }\n\n  // This should also have a acknowledgeBypass\n  async freeEth(amount, acknowledgeBypass = false) {\n    if (\n      this.debtValue.eq(0) ||\n      this.calcCollatRatio(this.ethCollateral.minus(amount), this.debtValue).gt(\n        1.5\n      ) ||\n      acknowledgeBypass\n    ) {\n      try {\n        if (this.noProxy) {\n          return;\n        }\n        this.needsUpdate = true;\n        await this.cdpService.freeEthProxy(\n          this._proxyAddress,\n          this.cdpId,\n          amount\n        );\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    }\n  }\n\n  async wipeDai(amount) {\n    try {\n      if (this.noProxy) {\n        return;\n      }\n      this.needsUpdate = true;\n      await this.cdpService.wipeDaiProxy(\n        this._proxyAddress,\n        this.cdpId,\n        amount\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n  }\n\n  async canCloseCdp() {\n    const value = this.debtValue.toNumber();\n    return await this.cdpService.enoughMkrToWipe(this.cdpId, value);\n  }\n\n  async closeCdp() {\n    try {\n      this.needsUpdate = true;\n      this.closing = true;\n\n      if (this.hasProxy) {\n        await this.cdpService.shutProxy(this._proxyAddress, this.cdpId);\n      }\n    } catch (e) {\n      // eslint-disable-next-line\n      console.log('closeCdp Error:');\n      // eslint-disable-next-line\n      console.error(e);\n    }\n    // }\n  }\n\n  async checkIfDestAddressHasProxy(address) {\n    await this.getProxy();\n    const proxy = await this.proxyService.getProxyAddress(address);\n    return proxy;\n  }\n\n  async moveCdp(address) {\n    await this.getProxy();\n    const proxy = await this.proxyService.getProxyAddress(address);\n    if (proxy) {\n      this.needsUpdate = true;\n      this.closing = true; // for the purpose of displaying to the user closing and moving are the same\n      await this.cdpService.giveProxy(this._proxyAddress, this.cdpId, proxy);\n    } else if (!this.noProxy) {\n      this.needsUpdate = true;\n      this.closing = true;\n      await this.cdpService.giveProxy(this._proxyAddress, this.cdpId, address);\n    } else {\n      this.needsUpdate = true;\n      this.closing = true;\n      await this.cdpService.give(this.cdpId, address);\n    }\n  }\n\n  enoughMkrToWipe(amount) {\n    return this.cdpService.enoughMkrToWipe(amount, DAI.wei);\n  }\n\n  // Calculations\n  toUSD(eth) {\n    const toUsd = this.services.toUSD(eth);\n    if (toUsd.lt(0)) {\n      return toBigNumber(0);\n    }\n    return toUsd;\n  }\n\n  toPeth(eth) {\n    return this.services.toPeth(eth);\n  }\n\n  maxDaiDraw() {\n    const tl = toBigNumber(this.ethPrice).times(\n      toBigNumber(this.ethCollateral)\n    );\n    const tr = toBigNumber(this.debtValue).times(\n      toBigNumber(this.liquidationRatio)\n    );\n    return tl.minus(tr).div(toBigNumber(this.ethPrice));\n  }\n\n  calcCollatRatio(ethQty, daiQty) {\n    if (ethQty <= 0 || daiQty <= 0) return toBigNumber(0);\n    return calcCollatRatio(this.ethPrice, ethQty, daiQty);\n  }\n\n  calcLiquidationPrice(ethQty, daiQty) {\n    if (ethQty <= 0 || daiQty <= 0) return toBigNumber(0);\n    return calcLiquidationPrice(\n      ethQty,\n      daiQty,\n      this.ethPrice,\n      this.liquidationRatio\n    );\n  }\n\n  // Helpers\n  async approveDai() {\n    await this.daiToken.approveUnlimited(this.proxyAddress);\n  }\n\n  async approveMkr() {\n    await this.mkrToken.approveUnlimited(this.proxyAddress);\n  }\n\n  async getDaiBalances() {\n    this.daiBalance = await this.services.daiToken.balance();\n    return this.daiBalance;\n  }\n\n  // Static Helpers\n  static toNumber(val) {\n    if (BigNumber.isBigNumber(val)) {\n      return val.toNumber();\n    }\n    return toBigNumber(val).toNumber();\n  }\n\n  static displayPercentValue(raw) {\n    if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n    return raw.times(100).toString();\n  }\n\n  static displayFixedValue(raw, decimals = 3, round = true) {\n    if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n    if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    return raw.toFixed(decimals).toString();\n  }\n}\n","<template>\n  <div class=\"container-maker\">\n    <deposit-modal\n      ref=\"deposit\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @lockEth=\"lockEth\"\n    ></deposit-modal>\n    <generate-modal\n      ref=\"generate\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @drawDai=\"drawDai\"\n    ></generate-modal>\n    <withdraw-modal\n      ref=\"withdraw\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @freeEth=\"freeEth\"\n    ></withdraw-modal>\n    <payback-modal\n      ref=\"payback\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @wipeDai=\"wipeDai\"\n    ></payback-modal>\n    <close-cdp-modal\n      ref=\"closeCdp\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @closeCdp=\"closeCdp\"\n    >\n    </close-cdp-modal>\n    <move-cdp-modal\n      ref=\"moveCdp\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :dest-address-has-proxy=\"destAddressHasProxy\"\n      :dest-address-proxy=\"destAddressProxy\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @moveCdp=\"moveCdp\"\n      @checkForProxy=\"checkIfDestAddressHasProxy\"\n    >\n    </move-cdp-modal>\n    <back-button :path=\"'/interface/dapps/'\">\n      <div class=\"back-bar-container\">\n        <div v-if=\"showMoveOrClose\" class=\"header-buttons-container\">\n          <div class=\"inner-container\">\n            <button class=\"move-btn\" @click=\"showMove\">\n              <h4>{{ $t('dappsMaker.move-title') }}</h4>\n            </button>\n            <div v-if=\"!((!hasProxy && !onCreate) || showCdpMigrateButtons)\">\n              <button class=\"close-btn\" @click=\"showClose\">\n                <h4>{{ $t('dappsMaker.close-title') }}</h4>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </back-button>\n    <div v-if=\"makerActive\" class=\"buttons-container\">\n      <div v-if=\"showCreateProxy\">\n        <div class=\"dapps-button\" @click=\"buildProxy\">\n          <h4>{{ $t('dappsMaker.create-proxy') }}</h4>\n        </div>\n      </div>\n      <div v-if=\"showCreateProxy\" class=\"proxy-container\">\n        {{ $t('dappsMaker.proxy-instructions') }}\n      </div>\n      <div v-if=\"showCdpMigrateButtons\">\n        <div v-for=\"(value, idx) in cdpsWithoutProxy\" :key=\"idx + value\">\n          <div class=\"dapps-button\">\n            <div @click=\"migrateCdpExternal(value)\">\n              <h4>\n                {{ $t('dappsMaker.migrate-cdp', { value: value }) }}\n              </h4>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"showCdpMigrateButtons\" class=\"proxy-container\">\n        {{ $t('dappsMaker.migrate-instructions') }}\n      </div>\n    </div>\n    <div v-show=\"makerActive\" class=\"buttons-container\">\n      <div v-if=\"showCreateProxy && cdpsWithoutProxy.length > 1\">\n        <div v-for=\"(value, idx) in cdpsWithoutProxy\" :key=\"idx + value\">\n          <div\n            :class=\"[\n              'dapps-button',\n              activeValues.cdpId === value ? 'active' : ''\n            ]\"\n          >\n            <div @click=\"openMigrate(value)\">\n              <h4>{{ $t('dappsMaker.cdp') }} #{{ value }}</h4>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"makerActive && listCdps\" class=\"buttons-container\">\n      <div v-for=\"(value, idx) in cdps\" :key=\"idx + value\">\n        <div\n          :class=\"[\n            'dapps-button',\n            activeValues.cdpId === value ? 'active' : ''\n          ]\"\n        >\n          <div @click=\"openManage(value)\">\n            <h4>{{ $t('dappsMaker.cdp') }} #{{ value }}</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <router-view\n      :build-empty=\"buildEmpty\"\n      :maker-active=\"makerActive\"\n      :eth-price=\"ethPrice\"\n      :peth-price=\"pethPrice\"\n      :peth-min=\"pethMin\"\n      :weth-to-peth-ratio=\"wethToPethRatio\"\n      :liquidation-penalty=\"liquidationPenalty\"\n      :stability-fee=\"stabilityFee\"\n      :liquidation-ratio=\"liquidationRatio\"\n      :price-service=\"priceService\"\n      :cdp-service=\"cdpService\"\n      :proxy-service=\"proxyService\"\n      :cdps=\"cdps\"\n      :cdp-details-loaded=\"cdpDetailsLoaded\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      :migration-in-progress=\"migrationInProgress\"\n      :open-close-modal=\"openCloseModal\"\n      :open-move-modal=\"openMoveModal\"\n      :values-updated=\"valuesUpdated\"\n      :values=\"activeValues\"\n      :get-cdp=\"getCdp\"\n      :has-cdp=\"hasCdp\"\n      :loading-message1=\"$t('dappsMaker.initial-loading-one')\"\n      :loading-message2=\"$t('dappsMaker.initial-loading-two')\"\n      @activeCdpId=\"setupCdpManage\"\n      @cdpOpened=\"addCdp\"\n      @cdpClosed=\"removeCdp\"\n      @modalHidden=\"modalHidden\"\n      @managerUpdate=\"doUpdate\"\n      @showWithdraw=\"showWithdraw\"\n      @showPayback=\"showPayback\"\n      @showGenerate=\"showGenerate\"\n      @showDeposit=\"showDeposit\"\n      @migrateCdp=\"migrateCdpExternal\"\n    >\n    </router-view>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\nimport InterfaceContainerTitle from '@/layouts/InterfaceLayout/components/InterfaceContainerTitle';\nimport InterfaceBottomText from '@/components/InterfaceBottomText';\nimport Blockie from '@/components/Blockie';\nimport CloseCdpModal from './components/CloseCdpModal';\nimport MoveCdpModal from './components/MoveCdpModal';\nimport GenerateModal from './components/GenerateModal';\nimport DepositModal from './components/DepositModal';\nimport WithdrawModal from './components/WithdrawModal';\nimport PaybackModal from './components/PaybackModal';\nimport BigNumber from 'bignumber.js';\nimport Maker from '@makerdao/dai';\nimport { Toast } from '@/helpers';\nimport MakerCDP from './MakerCDP';\nimport { toChecksumAddress } from '@/helpers/addressUtils';\n\nimport MewPlugin from 'mew-maker-plugin';\nconst { MKR, DAI } = Maker;\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nconst bnOver = (one, two, three) => {\n  return toBigNumber(one)\n    .times(toBigNumber(two))\n    .div(toBigNumber(three));\n};\n\nexport default {\n  components: {\n    'interface-container-title': InterfaceContainerTitle,\n    'interface-bottom-text': InterfaceBottomText,\n    'generate-modal': GenerateModal,\n    'deposit-modal': DepositModal,\n    'withdraw-modal': WithdrawModal,\n    'payback-modal': PaybackModal,\n    blockie: Blockie,\n    'back-button': BackButton,\n    'close-cdp-modal': CloseCdpModal,\n    'move-cdp-modal': MoveCdpModal\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    getBalance: {\n      type: Function,\n      default: function() {}\n    },\n    highestGas: {\n      type: String,\n      default: '0'\n    }\n  },\n  data() {\n    return {\n      destAddressProxy: '',\n      destAddressHasProxy: false,\n      afterUpdate: [],\n      allCdpIds: [],\n      activeCdp: {},\n      activeValues: {\n        maxPethDraw: toBigNumber(0),\n        maxEthDraw: toBigNumber(0),\n        maxUsdDraw: toBigNumber(0),\n        ethCollateral: toBigNumber(0),\n        pethCollateral: toBigNumber(0),\n        usdCollateral: toBigNumber(0),\n        debtValue: toBigNumber(0),\n        maxDai: toBigNumber(0),\n        collateralRatio: toBigNumber(0),\n        minEth: toBigNumber(0),\n        cdpId: '--'\n      },\n      availableCdps: {},\n      cdps: [],\n      cdpsWithoutProxy: [],\n      cdpService: {},\n      cdpDetailsLoaded: false,\n      currentProxy: null,\n      currentCdpId: '',\n      creatingCdp: false,\n      daiPrice: 0,\n      daiQty: 0,\n      ethPrice: toBigNumber(0),\n      ethQty: 0,\n      liquidationRatio: toBigNumber(0),\n      liquidationPenalty: toBigNumber(0),\n      makerActive: false,\n      makerCdp: {},\n      makerManager: {},\n      migrationInProgress: {},\n      openCloseModal: false,\n      openMoveModal: false,\n      proxyService: {},\n      proxyAddress: null,\n      pethPrice: toBigNumber(0),\n      pethMin: toBigNumber(0),\n      priceService: {},\n      priceFloor: 0,\n      stabilityFee: toBigNumber(0),\n      sysVars: {},\n      sysServices: {},\n      targetPrice: 0,\n      valuesUpdated: 0,\n      wethToPethRatio: toBigNumber(0)\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    maxDaiDraw() {\n      if (this.ethQty <= 0) return 0;\n      return bnOver(this.ethPrice, this.ethQty, this.liquidationRatio);\n    },\n    minEthDeposit() {\n      if (this.daiQty <= 0) return 0;\n      return bnOver(this.liquidationRatio, this.daiQty, this.ethPrice);\n    },\n    showMoveOrClose() {\n      return (\n        this.$route.name === 'manage-sai' || this.$route.name === 'migrate-sai'\n      );\n    },\n    showManage() {\n      return (\n        this.listCdps ||\n        (this.cdps.length >= 1 && this.cdpsWithoutProxy.length >= 1)\n      );\n    },\n    showRefresh() {\n      return this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0;\n    },\n    onCreate() {\n      return this.$route.name === 'create-sai';\n    },\n    showCreateProxy() {\n      if (this.showCdpMigrateButtons) {\n        return false;\n      }\n      return !this.hasProxy && !this.onCreate;\n    },\n    showCdpMigrateButtons() {\n      return this.hasProxy && this.cdpsWithoutProxy.length >= 1;\n    },\n    listCdps() {\n      return this.cdps.length > 1 || this.cdpsWithoutProxy.length > 1;\n    },\n    hasProxy() {\n      return this.proxyAddress !== null;\n    },\n    currentProxyAddress() {\n      return this.proxyAddress;\n    }\n  },\n  watch: {\n    ['account.address']() {\n      this.makerActive = false;\n      this.setup();\n    }\n  },\n  destroyed() {\n    this.priceService = {};\n    this.cdpService = {};\n    this.proxyService = {};\n    this.availableCdps = {};\n    this.activeCdp = {};\n    this.makerCdp = {};\n    this.sysVars = {};\n    this.sysServices = {};\n  },\n  async mounted() {\n    await this.setup();\n  },\n  methods: {\n    modalHidden() {\n      this.openCloseModal = false;\n      this.openMoveModal = false;\n    },\n    gotoHome() {\n      this.$router.push({\n        name: 'Maker-sai'\n      });\n    },\n    gotoCreate() {\n      if (this.$route.path.includes('maker-sai')) {\n        this.activeValues = this.systemValues;\n        this.$router.push({\n          name: 'create-sai'\n        });\n      }\n    },\n    goToManage() {\n      if (this.$route.path.includes('maker-sai')) {\n        if (this.cdps.length === 1) {\n          this.$router.push({\n            name: 'manage-sai',\n            params: {\n              cdpId: this.cdps[0]\n            }\n          });\n        } else if (this.cdpsWithoutProxy.length === 1) {\n          this.$router.push({\n            name: 'migrate-sai',\n            params: {\n              cdpId: this.cdpsWithoutProxy[0]\n            }\n          });\n        } else if (this.showManage) {\n          // The listing screen may not work and can be removed\n          this.$router.push({\n            name: 'select-sai'\n          });\n        } else {\n          this.gotoCreate();\n        }\n      }\n    },\n    openManage(cdpId) {\n      if (this.$route.path.includes('maker-sai')) {\n        this.setupCdpManage(cdpId);\n        this.$router.push({\n          name: 'manage-sai',\n          params: {\n            cdpId: cdpId\n          }\n        });\n      }\n    },\n    openMigrate(cdpId) {\n      if (this.$route.path.includes('maker-sai')) {\n        this.setupCdpManage(cdpId);\n        this.$router.push({\n          name: 'migrate-sai',\n          params: {\n            cdpId: cdpId\n          }\n        });\n      }\n    },\n    showDeposit() {\n      this.$refs.deposit.$refs.modal.show();\n    },\n    showWithdraw() {\n      this.$refs.withdraw.$refs.modal.show();\n    },\n    showPayback() {\n      this.$refs.payback.$refs.modal.show();\n    },\n    showGenerate() {\n      this.$refs.generate.$refs.modal.show();\n    },\n    showClose() {\n      this.$refs.closeCdp.$refs.modal.$on('hidden', () => {\n        this.$emit('modalHidden');\n      });\n      this.$refs.closeCdp.$refs.modal.show();\n    },\n    showMove() {\n      this.$refs.moveCdp.$refs.modal.$on('hidden', () => {\n        this.$emit('modalHidden');\n      });\n      this.destAddressHasProxy = false;\n      this.$refs.moveCdp.$refs.modal.show();\n    },\n    async setup() {\n      this.activeCdps = {};\n      this.currentCdp = {};\n      const web3 = this.web3;\n      const _self = this;\n      this.gotoHome();\n      const MewMakerPlugin = MewPlugin(\n        web3,\n        _self.account.address,\n        async () => {\n          if (_self.$route.path.includes('maker-sai')) {\n            await _self.doUpdate();\n          }\n        }\n      );\n      this.maker = await Maker.create('inject', {\n        provider: { inject: web3.currentProvider },\n        plugins: [MewMakerPlugin],\n        accounts: {\n          myLedger1: { type: 'mew' }\n        }\n      });\n\n      await this.maker.authenticate();\n      this._priceService = this.maker.service('price');\n      this._cdpService = await this.maker.service('cdp');\n      this._proxyService = await this.maker.service('proxy');\n      this._tokenService = await this.maker.service('token');\n\n      this.pethMin = toBigNumber(0.005);\n\n      this.ethPrice = toBigNumber(\n        (await this._priceService.getEthPrice()).toNumber()\n      );\n\n      this.pethPrice = toBigNumber(\n        (await this._priceService.getPethPrice()).toNumber()\n      );\n\n      this._targetPrice = toBigNumber(\n        (await this._priceService.getPethPrice()).toNumber()\n      );\n\n      this.liquidationRatio = toBigNumber(\n        await this._cdpService.getLiquidationRatio()\n      );\n      this.liquidationPenalty = toBigNumber(\n        await this._cdpService.getLiquidationPenalty()\n      );\n      this.stabilityFee = toBigNumber(\n        await this._cdpService.getAnnualGovernanceFee()\n      );\n\n      this.wethToPethRatio = toBigNumber(\n        await this._priceService.getWethToPethRatio()\n      );\n      this.proxyAddress = await this._proxyService.currentProxy();\n\n      this.daiToken = this._tokenService.getToken(DAI);\n      this.daiBalance = (await this.daiToken.balance()).toBigNumber();\n      this.mkrToken = this._tokenService.getToken(MKR);\n      this.mkrBalance = (await this.mkrToken.balance()).toBigNumber();\n\n      const minEth = toBigNumber(this.pethMin).times(this.wethToPethRatio);\n      this.systemValues = {\n        stabilityFee: this.stabilityFee,\n        minEth: minEth,\n        liquidationRatio: this.liquidationRatio,\n        wethToPethRatio: this.wethToPethRatio,\n        liquidationPenalty: this.liquidationPenalty,\n        targetPrice: this._targetPrice,\n        pethPrice: this.pethPrice\n      };\n\n      await this.checkAllowances();\n\n      const { withProxy, withoutProxy } = await this.locateCdps();\n      this.cdps = withProxy;\n      this.cdpsWithoutProxy = withoutProxy;\n\n      if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n        await this.loadCdpDetails();\n      }\n\n      this.currentProxy = this.getProxy();\n      if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n        this.cdpDetailsLoaded = true;\n        this.makerActive = true;\n        if (\n          this.$route.name !== 'create-sai' &&\n          this.$route.path.includes('maker-sai')\n        ) {\n          this.goToManage();\n        }\n      } else {\n        this.gotoCreate();\n      }\n    },\n\n    async buildEmpty() {\n      return await this.buildCdpObject(null);\n    },\n    addCdp() {\n      this.creatingCdp = true;\n    },\n    removeCdp(vals) {\n      try {\n        delete this.availableCdps[vals.id];\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    },\n    async migrateCdpExternal(cdpId) {\n      this.afterUpdate.push(this.goToManage);\n      await this.migrateCdp(cdpId);\n    },\n    async refreshExternal() {\n      await this.doUpdate();\n    },\n    async refresh() {\n      await this.doUpdate();\n    },\n    async doUpdate() {\n      this.proxyAddress = await this.getProxy();\n      let afterClose = false;\n      const afterOpen = this.$route.name === 'create-sai';\n      await this.updateActiveCdp();\n      for (const idProp in this.activeCdps) {\n        if (this.activeCdps[idProp].needsUpdate) {\n          if (this.activeCdps[idProp].closing) {\n            afterClose = true;\n            delete this.activeCdps[idProp];\n            this.cdps = this.cdps.filter(item => item !== idProp);\n            this.cdpsWithoutProxy = this.cdpsWithoutProxy.filter(\n              item => item !== idProp\n            );\n          } else if (this.activeCdps[idProp].opening) {\n            await this.activeCdps[idProp].updateValues();\n          } else {\n            this.activeCdps[idProp] = await this.activeCdps[idProp].update();\n          }\n        }\n        if (idProp === this.currentCdpId) {\n          await this.currentCdp.update();\n          await this.setupCdpManage(this.currentCdpId);\n        }\n      }\n\n      this.daiBalance = (await this.daiToken.balance()).toBigNumber();\n      this.mkrBalance = (await this.mkrToken.balance()).toBigNumber();\n      await this.checkAllowances();\n\n      if (!Object.keys(this.activeCdps).includes(this.currentCdpId)) {\n        await this.loadCdpDetails();\n        await this.setupCdpManage(this.currentCdpId);\n      } else {\n        await this.setupCdpManage(this.currentCdpId);\n      }\n\n      const runAfterUpdate = () => {\n        if (this.afterUpdate.length > 0) {\n          const fn = this.afterUpdate.pop();\n          fn();\n          runAfterUpdate();\n        }\n      };\n      runAfterUpdate();\n      if (afterClose || afterOpen || this.creatingCdp) {\n        if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n          this.goToManage();\n        } else {\n          this.gotoCreate();\n        }\n      }\n      if (this.creatingCdp) {\n        this.creatingCdp = false;\n        await this.updateActiveCdp();\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      } else {\n        this.valuesUpdated++;\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      }\n    },\n\n    async checkAllowances() {\n      if (this.proxyAddress) {\n        this._proxyAllowanceDai = (\n          await this.daiToken.allowance(this.account.address, this.proxyAddress)\n        ).toBigNumber();\n\n        this._proxyAllowanceMkr = (\n          await this.mkrToken.allowance(this.account.address, this.proxyAddress)\n        ).toBigNumber();\n      }\n    },\n    async setupCdpManage(cdpId) {\n      if (!this.allCdpIds.includes(cdpId) && this.allCdpIds.length > 0) {\n        cdpId = this.allCdpIds[0];\n      }\n      if (this.allCdpIds.length === 0) {\n        this.activeValues = this.systemValues;\n      } else {\n        this.currentCdpId = cdpId;\n        this.activeValues = await this.getValuesForManage(cdpId);\n      }\n    },\n    async getValuesForManage(cdpId) {\n      const currentCdp = this.activeCdps[cdpId];\n      this.currentCdp = currentCdp;\n      const _proxyAllowanceDai = this._proxyAllowanceDai;\n      const _proxyAllowanceMkr = this._proxyAllowanceMkr;\n      const toPeth = this.toPeth;\n      const systemValues = this.systemValues;\n      return {\n        ...systemValues,\n        cdpId: cdpId,\n        maxPethDraw: currentCdp.maxPethDraw,\n        maxEthDraw: currentCdp.maxEthDraw,\n        maxUsdDraw: currentCdp.maxUsdDraw,\n        ethCollateral: currentCdp.ethCollateral,\n        pethCollateral: currentCdp.pethCollateral,\n        usdCollateral: currentCdp.usdCollateral,\n        debtValue: currentCdp.debtValue,\n        maxDai: currentCdp.maxDai,\n        collateralRatio: currentCdp.collatRatio,\n        liquidationPrice: currentCdp.liquidationPrice,\n        minEth: currentCdp.minEth,\n        isSafe: false,\n        governanceFeeOwed: currentCdp.governanceFeeOwed,\n        ethCollateralNum: currentCdp.ethCollateralNum,\n        toPeth: toPeth,\n        proxyAllowanceDai: _proxyAllowanceDai,\n        proxyAllowanceMkr: _proxyAllowanceMkr,\n        zeroDebt: currentCdp.zeroDebt\n      };\n    },\n    async locateCdps() {\n      this.cdpsWithoutProxy = [];\n      this.cdpsWithoutProxy = await this.locateCdpsWithoutProxy();\n      this.cdps = [];\n      this.cdps = await this.locateCdpsProxy();\n\n      this.allCdpIds = [...this.cdpsWithoutProxy, ...this.cdps];\n\n      return { withProxy: this.cdps, withoutProxy: this.cdpsWithoutProxy };\n    },\n\n    async locateCdpsWithoutProxy() {\n      const directCdps = await this._cdpService.getCdpIds(this.account.address);\n      const directCdpsCheckSum = await this._cdpService.getCdpIds(\n        toChecksumAddress(this.account.address)\n      );\n      return directCdps.concat(directCdpsCheckSum);\n    },\n\n    async locateCdpsProxy() {\n      this.proxyAddress = await this.getProxy();\n      return await this._cdpService.getCdpIds(this.proxyAddress);\n    },\n    async updateActiveCdp() {\n      const currentCdpIds = Object.keys(this.activeCdps);\n      await this.locateCdps();\n\n      const newCdps = this.cdps.filter(\n        item => !Object.keys(this.activeCdps).includes(item.toString())\n      );\n\n      const newCdpsWithoutProxy = this.cdpsWithoutProxy.filter(\n        item => !Object.keys(this.activeCdps).includes(item.toString())\n      );\n\n      const removedCdps = currentCdpIds.filter(\n        item =>\n          !(\n            this.cdps.includes(item.toString()) ||\n            this.cdpsWithoutProxy.includes(item.toString())\n          )\n      );\n\n      if (removedCdps.length > 0) {\n        removedCdps.forEach(item => delete this.activeCdps[item]);\n      }\n\n      if (newCdps.length > 0) {\n        for (let i = 0; i < newCdps.length; i++) {\n          this.activeCdps[newCdps[i]] = await this.buildCdpObject(newCdps[i]);\n        }\n      }\n\n      if (newCdpsWithoutProxy.length > 0) {\n        for (let i = 0; i < newCdpsWithoutProxy.length; i++) {\n          this.activeCdps[newCdpsWithoutProxy[i]] = await this.buildCdpObject(\n            newCdpsWithoutProxy[i],\n            {\n              noProxy: true\n            }\n          );\n        }\n      }\n\n      if (this.cdps.length === 0 && this.cdpsWithoutProxy.length === 0) {\n        this.gotoCreate();\n      }\n    },\n    async loadCdpDetails() {\n      for (let i = 0; i < this.cdps.length; i++) {\n        this.activeCdps[this.cdps[i]] = await this.buildCdpObject(this.cdps[i]);\n      }\n      for (let i = 0; i < this.cdpsWithoutProxy.length; i++) {\n        this.activeCdps[this.cdpsWithoutProxy[i]] = await this.buildCdpObject(\n          this.cdpsWithoutProxy[i],\n          {\n            noProxy: true\n          }\n        );\n      }\n    },\n    async buildCdpObject(cdpId, options = {}) {\n      const sysVars = {\n        ...options,\n        _proxyAddress: this.proxyAddress,\n        liquidationPenalty: this.liquidationPenalty,\n        stabilityFee: this.stabilityFee,\n        ethPrice: this.ethPrice,\n        _pethPrice: this.pethPrice,\n        wethToPethRatio: this.wethToPethRatio,\n        _targetPrice: this._targetPrice,\n        liquidationRatio: this.liquidationRatio,\n        proxyAllowanceDai: this.proxyAllowanceDai,\n        proxyAllowanceMkr: this.proxyAllowanceMkr,\n        _daiToken: this._daiToken,\n        daiBalance: this.daiBalance,\n        _mkrToken: this._mkrToken,\n        mkrBalance: this.mkrBalance,\n        minEth: this.minEth,\n        pethMin: this.pethMin\n      };\n\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\n        this.cdp = await this.getMakerCdp(cdpId, false);\n      } else if (this.cdps.includes(cdpId)) {\n        this.cdp = await this.getMakerCdp(cdpId, this.proxyAddress);\n      } else {\n        this.cdp = await this.getMakerCdp(cdpId, false);\n      }\n\n      const services = {\n        _proxyService: this._proxyService,\n        priceService: this.priceService,\n        _cdpService: this._cdpService,\n        doUpdate: this.doUpdate,\n        getProxy: this.getProxy,\n        hasProxy: this.hasProxy,\n        getCdp: this.getMakerCdp,\n        toPeth: this.toPeth,\n        toUSD: this.toUSD,\n        _proxyAddress: this.proxyAddress,\n        liquidationPenalty: this.liquidationPenalty,\n        stabilityFee: this.stabilityFee,\n        ethPrice: this.ethPrice,\n        _pethPrice: this.pethPrice,\n        wethToPethRatio: this.wethToPethRatio,\n        _targetPrice: this._targetPrice,\n        liquidationRatio: this.liquidationRatio,\n        proxyAllowanceDai: this.proxyAllowanceDai,\n        proxyAllowanceMkr: this.proxyAllowanceMkr,\n        _daiToken: this._daiToken,\n        daiBalance: this.daiBalance,\n        _mkrToken: this._mkrToken,\n        mkrBalance: this.mkrBalance,\n        minEth: this.minEth,\n        pethMin: this.pethMin\n      };\n\n      const makerCDP = new MakerCDP(cdpId, this.web3, services, sysVars);\n      if (cdpId) {\n        return await makerCDP.init(cdpId);\n      }\n      return makerCDP;\n    },\n\n    async getProxy() {\n      this.proxyAddress = await this._proxyService.currentProxy();\n      if (!this.proxyAddress) {\n        this.proxyAddress = await this._proxyService.getProxyAddress(\n          this.account.address\n        );\n        if (this.proxyAddress) this.noProxy = false;\n      }\n      return this.proxyAddress;\n    },\n\n    lockEth(val) {\n      this.currentCdp.lockEth(val);\n    },\n    wipeDai(val) {\n      this.currentCdp.wipeDai(val);\n    },\n    freeEth(val) {\n      if (val[1] === null) {\n        this.currentCdp.freeEth(val[0]);\n      } else {\n        this.currentCdp.freeEth(val[0], val[1]);\n      }\n    },\n    drawDai(val) {\n      if (val[1] === null) {\n        this.currentCdp.drawDai(val[0]);\n      } else {\n        this.currentCdp.drawDai(val[0], val[1]);\n      }\n    },\n    closeCdp() {\n      this.currentCdp.closeCdp();\n    },\n    checkIfDestAddressHasProxy(val) {\n      this.currentCdp\n        .checkIfDestAddressHasProxy(val)\n        .then(result => {\n          this.destAddressProxy = result;\n          this.destAddressHasProxy = result !== null;\n        })\n        .catch(err => {\n          throw err;\n        });\n    },\n    moveCdp(val) {\n      this.currentCdp.moveCdp(val);\n    },\n\n    calcCollatRatioDaiChg(daiQty) {\n      return toBigNumber(\n        this.currentCdp.calcCollatRatio(this.currentCdp.ethCollateral, daiQty)\n      );\n    },\n\n    calcCollatRatioEthChg(ethQty) {\n      return toBigNumber(\n        this.currentCdp.calcCollatRatio(ethQty, this.currentCdp.debtValue)\n      );\n    },\n\n    calcLiquidationPriceDaiChg(daiQty) {\n      return toBigNumber(\n        this.currentCdp.calcLiquidationPrice(\n          this.currentCdp.ethCollateral,\n          daiQty\n        )\n      );\n    },\n\n    calcLiquidationPriceEthChg(ethQty) {\n      return toBigNumber(\n        this.currentCdp.calcLiquidationPrice(ethQty, this.currentCdp.debtValue)\n      );\n    },\n    async approveDai() {\n      await this._tokenService\n        .getToken(DAI)\n        .approveUnlimited(this.proxyAddress);\n    },\n    async approveMkr() {\n      this._tokenService.getToken(MKR).approveUnlimited(this.proxyAddress);\n    },\n    hasCdp(cdpId) {\n      return Object.keys(this.activeCdps).includes(\n        toBigNumber(cdpId).toString()\n      );\n    },\n\n    getCdp(cdpId) {\n      return this.activeCdps[cdpId];\n    },\n\n    async getMakerCdp(cdpId) {\n      if (cdpId === null) return;\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\n        return await this.maker.getCdp(cdpId, false);\n      } else if (this.cdps.includes(cdpId) && this.proxyAddress) {\n        return await this.maker.getCdp(cdpId, this.proxyAddress);\n      } else if (this.proxyAddress) {\n        return await this.maker.getCdp(cdpId, this.proxyAddress);\n      }\n      return await this.maker.getCdp(cdpId, false);\n    },\n\n    async buildProxy() {\n      this.proxyAddress = await this.getProxy();\n      if (!this.proxyAddress) {\n        await this._proxyService.build();\n        this.proxyAddress = await this._proxyService.currentProxy();\n        return this.proxyAddress;\n      }\n      this.proxyAddress = await this._proxyService.currentProxy();\n      return this.proxyAddress;\n    },\n\n    async migrateCdp(cdpId) {\n      const currentProxy = await this.getProxy();\n      if (currentProxy) {\n        await this._cdpService.give(cdpId, currentProxy);\n      }\n    },\n\n    // Calculations\n    minEth() {\n      if (this.wethToPethRatio) {\n        return toBigNumber(this.pethMin).times(this.wethToPethRatio);\n      }\n      return '--';\n    },\n    toUSD(eth) {\n      if (eth === undefined || eth === null) return toBigNumber(0);\n      return this.ethPrice.times(toBigNumber(eth));\n    },\n\n    toPeth(eth) {\n      if (!toBigNumber(eth).eq(0)) {\n        return toBigNumber(eth).div(this.wethToPethRatio);\n      }\n      return toBigNumber(0);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MakerDai.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MakerDai.vue?vue&type=template&id=7ca66791&scoped=true&\"\nimport script from \"./MakerDai.vue?vue&type=script&lang=js&\"\nexport * from \"./MakerDai.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MakerDai.vue?vue&type=style&index=0&id=7ca66791&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca66791\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=02e2bdb6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=02e2bdb6&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=290fce68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=290fce68&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=011db2c2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=011db2c2&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=61b0f31e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=61b0f31e&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=7ca66791&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=7ca66791&lang=scss&scoped=true&\""],"sourceRoot":""}